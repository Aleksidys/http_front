(()=>{var t={355:()=>{document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("taskModal"),e=document.querySelector(".addTaskBtn"),n=document.querySelectorAll(".close"),a=document.getElementById("taskForm"),o=document.querySelector(".taskContainer");function s(t){const e=document.createElement("div"),n=new Date(t.created).toLocaleString();e.innerHTML=`\n            <h3>${t.name}</h3>\n            <p class="taskDescription" style="display:none;"></p>\n            <p class="taskCreated">Создано: ${n}</p>\n            <input type="checkbox" ${t.status?"checked":""} data-id="${t.id}" class="taskComplete">\n            <button data-id="${t.id}" class="editTaskBtn">Изменить</button>\n            <button data-id="${t.id}" class="deleteTaskBtn">Удалить</button>\n            <button data-id="${t.id}" class="detailsTaskBtn">Подробнее</button>\n        `,o.appendChild(e),e.querySelector(".taskComplete").addEventListener("change",c),e.querySelector(".editTaskBtn").addEventListener("click",d),e.querySelector(".deleteTaskBtn").addEventListener("click",i),e.querySelector(".detailsTaskBtn").addEventListener("click",r)}async function c(t){const e=t.target.dataset.id,n=t.target.checked;(await fetch(`http://localhost:7070/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:n})})).ok||(t.target.checked=!n)}async function i(t){const e=t.target.dataset.id;(await fetch(`http://localhost:7070/tasks/${e}`,{method:"DELETE"})).ok&&t.target.closest("div").remove()}async function d(t){const e=t.target.dataset.id,n=prompt("Введите новое название задачи:"),a=prompt("Введите новое описание задачи:");if(n&&a){const o=await fetch(`http://localhost:7070/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,description:a})});if(o.ok){const e=await o.json(),n=t.target.closest("div");n.querySelector("h3").textContent=e.name,n.querySelector(".taskDescription").textContent=e.description}}}async function r(t){const e=t.target.dataset.id,n=t.target.closest("div").querySelector(".taskDescription");if("none"===n.style.display){const a=await fetch(`http://localhost:7070/tasks/${e}`);if(a.ok){const e=await a.json();n.textContent=e.description,n.style.display="block",t.target.textContent="Скрыть"}}else n.style.display="none",t.target.textContent="Подробнее"}e.onclick=function(){t.style.display="block"},n.forEach((function(e){e.onclick=function(){t.style.display="none"}})),window.onclick=function(e){e.target==t&&(t.style.display="none")},a.onsubmit=async function(e){e.preventDefault();const n={name:document.getElementById("taskName").value,description:document.getElementById("taskDescription").value},a=await fetch("http://localhost:7070/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});a.ok&&(s(await a.json()),t.style.display="none")},async function(){const t=await fetch("http://localhost:7070/tasks");(await t.json()).forEach((t=>{s(t)}))}()}))}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";n(355)})()})();